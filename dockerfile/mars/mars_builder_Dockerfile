# Pre-install packages for mars builder
FROM sgrio/java:jdk_8_ubuntu 
ENV DEBIAN_FRONTEND noninteractive

RUN apt-get update && \
    apt-get install \
    build-essential \
    bzip2 \
    git \
    python \
    zip \
    -y && \
    mkdir -p /src/tar/switch/init && \
    mkdir -p /src/tar/download/config && \
    rm -rf /var/lib/apt/lists/*

RUN mkdir -p /src/onos && mkdir -p /src/onos/bin && mkdir -p /src/onos/bin/cache
RUN git clone https://github.com/nocsysmars/mars_downloadfiles.git /src/onos/bin/cache
RUN mv /src/onos/bin/cache/.buck_sha /src/onos/bin
